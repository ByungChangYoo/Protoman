import { Menu, app } from 'electron';
const isMac = process.platform === 'darwin';

export function makeMenu(): Menu {
  return Menu.buildFromTemplate([
    ...((isMac
      ? [
          {
            label: app.name,
            submenu: [
              { role: 'about' },
              { type: 'separator' },
              { role: 'services' },
              { type: 'separator' },
              { role: 'hide' },
              { role: 'hideothers' },
              { role: 'unhide' },
              { type: 'separator' },
              { role: 'quit' },
            ],
          },
        ]
      : []) as any), // idk why but typescript trips up with this
    {
      label: 'File',
      submenu: [...(isMac ? [] : [{ role: 'quit' }])],
    },
    {
      label: 'Edit',
      submenu: [
        { role: 'undo' },
        { role: 'redo' },
        { type: 'separator' },
        { role: 'cut' },
        { role: 'copy' },
        { role: 'paste' },
        { role: 'selectAll' },
      ],
    },
    {
      label: 'View',
      submenu: [
        { role: 'resetzoom' },
        { role: 'resetzoom' },
        { role: 'zoomin' },
        { role: 'zoomout' },
        { type: 'separator' },
        { role: 'togglefullscreen' },
      ],
    },
    {
      label: 'Dev',
      submenu: [{ role: 'toggledevtools' }, { role: 'reload' }],
    },
  ]);
}

export default makeMenu;
